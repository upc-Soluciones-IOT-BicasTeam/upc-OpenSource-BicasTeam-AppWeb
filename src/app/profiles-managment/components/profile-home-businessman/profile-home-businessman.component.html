<div class="home-container">
  <!-- Loading Indicator -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>{{ "HOME.LOADING" | translate }}</p>
  </div>

  <!-- Main Content -->
  <div *ngIf="!isLoading">
    <!-- Header Section -->
    <header class="welcome-header">
      <div class="welcome-content">
        <h1 class="welcome-title">{{ "HOME.WELCOME" | translate }}</h1>
        <p class="welcome-subtitle">{{ "HOME.START" | translate }}</p>
      </div>
      <div class="stats-overview">
        <div class="stat-card">
          <span class="stat-number">{{ issues.length }}</span>
          <span class="stat-label">{{ "HOME.ISSUES" | translate }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-number">{{ vehicles.length }}</span>
          <span class="stat-label">{{ "HOME.VEHICLES" | translate }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-number">{{ shipments.length }}</span>
          <span class="stat-label">{{ "HOME.SHIPMENTS" | translate }}</span>
        </div>
      </div>
    </header>

    <!-- Main Content Grid -->
    <main class="content-grid">
      <!-- Issues Management Card -->
      <section class="card issues-card">
        <div class="card-header">
          <h2 class="card-title">
            <mat-icon>warning</mat-icon>
            {{ "HOME.PENDING_ISSUES" | translate }}
          </h2>
          <button class="action-btn" (click)="onManageIssues()">
            {{ "HOME.MANAGE" | translate }}
          </button>
        </div>
        <div class="card-content">
          <div class="issue-item" *ngFor="let issue of issues.slice(0, 3)">
            <div class="issue-info">
              <h3 class="issue-title">{{ issue.title }}</h3>
              <p class="issue-type">{{ issue.category }}</p>
            </div>
            <div class="issue-status">
              <span
                class="priority-badge"
                [class]="'priority-' + issue.priority"
              >
                {{ issue.priority | uppercase }}
              </span>
            </div>
          </div>
          <div class="empty-state" *ngIf="issues.length === 0">
            <mat-icon>check_circle</mat-icon>
            <p>{{ "HOME.NO_PENDING_ISSUES" | translate }}</p>
          </div>
        </div>
      </section>

      <!-- Vehicle Fleet Management Card -->
      <section class="card vehicles-card">
        <div class="card-header">
          <h2 class="card-title">
            <mat-icon>garage</mat-icon>
            {{ "HOME.FLEET_OVERVIEW" | translate }}
          </h2>
          <button class="action-btn" (click)="onManageVehicles()">
            {{ "HOME.MANAGE" | translate }}
          </button>
        </div>
        <div class="card-content">
          <div
            class="vehicle-item"
            *ngFor="let vehicle of vehicles.slice(0, 3)"
          >
            <div class="vehicle-info">
              <h3 class="vehicle-model">{{ vehicle.model }}</h3>
              <p class="vehicle-plate">
                {{ "HOME.PLATE" | translate }}: {{ vehicle.licensePlate }}
              </p>
            </div>
            <div class="vehicle-status">
              <mat-icon
                class="status-icon"
                [ngClass]="'status-' + vehicle.status"
              >
                {{
                  vehicle.status === "active"
                    ? "check_circle"
                    : vehicle.status === "maintenance"
                    ? "build"
                    : "warning"
                }}
              </mat-icon>
            </div>
          </div>
          <div class="empty-state" *ngIf="vehicles.length === 0">
            <mat-icon>garage</mat-icon>
            <p>{{ "HOME.NO_VEHICLES" | translate }}</p>
          </div>
        </div>
      </section>

      <!-- Shipments Management Card -->
      <section class="card shipments-card">
        <div class="card-header">
          <h2 class="card-title">
            <mat-icon>inventory</mat-icon>
            {{ "HOME.ACTIVE_SHIPMENTS" | translate }}
          </h2>
          <button class="action-btn" (click)="onManageShipments()">
            {{ "HOME.MANAGE" | translate }}
          </button>
        </div>
        <div class="card-content">
          <div
            class="shipment-item"
            *ngFor="let shipment of shipments.slice(0, 3)"
          >
            <div class="shipment-info">
              <h3 class="shipment-title">{{ shipment.destination }}</h3>
              <p class="shipment-description">{{ shipment.description }}</p>
            </div>
            <div class="shipment-status">
              <span
                class="status-badge"
                [class]="'status-' + shipment.status.toLowerCase()"
              >
                {{ shipment.status | uppercase }}
              </span>
            </div>
          </div>
          <div class="empty-state" *ngIf="shipments.length === 0">
            <mat-icon>inventory</mat-icon>
            <p>{{ "HOME.NO_SHIPMENTS" | translate }}</p>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>
