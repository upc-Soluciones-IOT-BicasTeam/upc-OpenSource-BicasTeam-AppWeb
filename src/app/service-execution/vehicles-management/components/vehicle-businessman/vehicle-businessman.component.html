<div class="container">
  <div class="header">
    <h1 class="title gradient-text">Gestión de Vehículos</h1>
    <button type="button" class="btn primary-btn hover-scale" (click)="navigateToCreateVehicle()">Agregar Vehículo</button>
  </div>

  <!-- Lista de Vehículos -->
  <div class="vehicle-list">
    <div class="vehicle-card" *ngFor="let vehicle of vehicles">
      <img [src]="vehicle.vehicleImage || 'https://via.placeholder.com/400x200'" alt="Vehicle Image" class="vehicle-image">
      <div class="vehicle-info">
        <h3 class="vehicle-title">{{ vehicle.licensePlate }}</h3>
        <p class="vehicle-model">Modelo: {{ vehicle.model }}</p>
        <p class ="vehicle-model">Ubicación: {{ vehicle.latitude | number:'1.4-4' }}, {{ vehicle.longitude | number:'1.4-4' }}</p>
        <div class="action-buttons">
          <button type="button" class="btn view-btn hover-scale" (click)="navigateToDetails(vehicle.id)">Ver más</button>
          <button type="button" class="btn edit-btn hover-scale" (click)="editVehicle(vehicle)">Editar</button>
          <button type="button" class="btn delete-btn hover-scale" (click)="deleteVehicle(vehicle.id)">Eliminar</button>
        </div>
      </div>
    </div>
  </div>



  <!-- Modal para Detalles del Vehículo -->
  <div class="modal" *ngIf="showDetails">
    <div class="modal-content">
      <span class="close" (click)="closeDetails()">&times;</span>
      <h2>Detalles del Vehículo</h2>
      <img [src]="selectedVehicle?.vehicleImage || 'https://via.placeholder.com/800x400'" alt="Vehicle Image" class="vehicle-details-image">
      <div class="vehicle-details-content">
        <p><strong>Placa:</strong> {{ selectedVehicle?.licensePlate }}</p>
        <p><strong>Modelo:</strong> {{ selectedVehicle?.model }}</p>
        <p><strong>Nombre del Conductor:</strong> {{ selectedVehicle?.driverName }}</p>
        <p><strong>Color:</strong> {{ selectedVehicle?.color }}</p>
        <h3><i class="pi pi-chart-line"></i> Monitoreo en Tiempo Real</h3>
        <p><strong>CurrentTemperature</strong> {{ selectedVehicle?.currentTemperature }}°C</p>
        <p><strong>CabinTemperature</strong>{{ selectedVehicle?.cabinTemperature }}°C</p>
        <p><strong>Humidity</strong>{{ selectedVehicle?.humidity }}%</p>
        <p><strong>Coordenadas:</strong></p>
        <p><strong>Latitude</strong> {{ selectedVehicle?.latitude | number:'1.6-6' }}</p>
        <p><strong>Longitude</strong> {{ selectedVehicle?.longitude | number:'1.6-6' }}</p>
        <p><strong>Última Inspección Técnica:</strong> {{ selectedVehicle?.lastTechnicalInspectionDate | date: 'mediumDate' }}</p>

        <h3><i class="pi pi-map-marker"></i> Ubicación Actual</h3>
        <div #mapContainer id="map" style="height: 300px; width: 100%;"></div>
        <button type="button" class="btn close-btn hover-scale" (click)="closeDetails()">Cerrar</button>

    </div>
  </div>
</div>
</div>
